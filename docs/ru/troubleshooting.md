# üîß –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—é –Ω–µ–ø–æ–ª–∞–¥–æ–∫

**–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è**

[![Support](https://img.shields.io/badge/Support-Troubleshooting-FF6B6B)](./troubleshooting.md)
[![Status](https://img.shields.io/badge/Status-Active-success)](./troubleshooting.md)

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

<details>
<summary>–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å</summary>

- [–ü—Ä–æ–±–ª–µ–º—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏](#-–ø—Ä–æ–±–ª–µ–º—ã-—É—Å—Ç–∞–Ω–æ–≤–∫–∏)
- [–ü—Ä–æ–±–ª–µ–º—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏](#-–ø—Ä–æ–±–ª–µ–º—ã-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)
- [–û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ API](#-–æ—à–∏–±–∫–∏-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è-–∫-api)
- [–ü—Ä–æ–±–ª–µ–º—ã —Å LLM/Ollama](#-–ø—Ä–æ–±–ª–µ–º—ã-—Å-llmollama)
- [–ü—Ä–æ–±–ª–µ–º—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö](#-–ø—Ä–æ–±–ª–µ–º—ã-—Å-–±–∞–∑–æ–π-–¥–∞–Ω–Ω—ã—Ö)
- [–ü—Ä–æ–±–ª–µ–º—ã –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö](#-–ø—Ä–æ–±–ª–µ–º—ã-–ø–æ–ª—É—á–µ–Ω–∏—è-–¥–∞–Ω–Ω—ã—Ö)
- [–ü—Ä–æ–±–ª–µ–º—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏](#-–ø—Ä–æ–±–ª–µ–º—ã-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)
- [–ü—Ä–æ–±–ª–µ–º—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è](#-–ø—Ä–æ–±–ª–µ–º—ã-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏-–∏-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö-–æ–∫—Ä—É–∂–µ–Ω–∏—è)
- [–û–±—â–∏–µ —Å–æ–≤–µ—Ç—ã](#-–æ–±—â–∏–µ-—Å–æ–≤–µ—Ç—ã)

</details>

---

## üöÄ –ü—Ä–æ–±–ª–µ–º—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–º–∞–Ω–¥–∞ `uv` –Ω–µ –Ω–∞–π–¥–µ–Ω–∞

**–°–∏–º–ø—Ç–æ–º—ã:**
```bash
$ uv sync
bash: uv: command not found
```

**–†–µ—à–µ–Ω–∏—è:**

<details>
<summary><strong>Windows</strong></summary>

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —á–µ—Ä–µ–∑ PowerShell:
   ```powershell
   powershell -ExecutionPolicy ByPass -c "irm https://astral.sh/uv/install.ps1 | iex"
   ```

2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –∏–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ PATH –≤—Ä—É—á–Ω—É—é

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É:
   ```bash
   uv --version
   ```

</details>

<details>
<summary><strong>Linux/macOS</strong></summary>

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —á–µ—Ä–µ–∑ curl:
   ```bash
   curl -LsSf https://astral.sh/uv/install.sh | sh
   ```

2. –î–æ–±–∞–≤—å—Ç–µ –≤ PATH (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):
   ```bash
   export PATH="$HOME/.cargo/bin:$PATH"
   ```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É:
   ```bash
   uv --version
   ```

</details>

---

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –≤–µ—Ä—Å–∏–∏ Python

**–°–∏–º–ø—Ç–æ–º—ã:**
```
Error: requires-python = ">=3.11"
```

**–†–µ—à–µ–Ω–∏—è:**

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é Python:**
   ```bash
   python --version
   ```

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python 3.11+** –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏:
   - Windows: –°–∫–∞—á–∞–π—Ç–µ —Å [python.org](https://www.python.org/downloads/)
   - Linux: `sudo apt install python3.11` (Ubuntu/Debian)
   - macOS: `brew install python@3.11`

3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –≤–µ—Ä—Å–∏—é Python —Å uv:**
   ```bash
   uv python install 3.11
   uv sync --python 3.11
   ```

---

## ‚öôÔ∏è –ü—Ä–æ–±–ª–µ–º—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### –û—à–∏–±–∫–∞: "No market data provider configured"

**–°–∏–º–ø—Ç–æ–º—ã:**
```
RuntimeError: No market data provider configured
```

**–ü—Ä–∏—á–∏–Ω–∞:** API –∫–ª—é—á–∏ –¥–ª—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã.

**–†–µ—à–µ–Ω–∏—è:**

<details>
<summary><strong>–ü–æ—à–∞–≥–æ–≤–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</strong></summary>

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–∞ `.env`:**
   ```bash
   ls -la .env  # Linux/macOS
   dir .env     # Windows
   ```

2. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env`** –µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç:
   ```bash
   cp .env.example .env  # Linux/macOS
   Copy-Item .env.example .env  # Windows (PowerShell)
   ```

3. **–î–æ–±–∞–≤—å—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ API –∫–ª—é—á–∏:**
   ```bash
   # OANDA (–æ—Å–Ω–æ–≤–Ω–æ–π)
   OANDA_API_KEY=your_oanda_api_key_here
   OANDA_BASE_URL=https://api-fxpractice.oanda.com
   
   # –ò–õ–ò Twelve Data (—Ä–µ–∑–µ—Ä–≤–Ω—ã–π)
   TWELVE_DATA_API_KEY=your_twelve_data_key
   TWELVE_DATA_BASE_URL=https://api.twelvedata.com
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**
   ```bash
   python -c "from src.app.settings import settings; print(settings.oanda_api_key[:10] if settings.oanda_api_key else 'Not set')"
   ```

</details>

**–ü—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∞:**
- –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∞–π–ª `.env` (–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ –µ–≥–æ –≤ git)
- –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ API –∫–ª—é—á–∏ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –∞–Ω–∞–ª–∏–∑–∞
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏

---

### –û—à–∏–±–∫–∞: "OLLAMA_MODEL must be set"

**–°–∏–º–ø—Ç–æ–º—ã:**
```
ValueError: OLLAMA_MODEL must be set
```

**–ü—Ä–∏—á–∏–Ω–∞:** –ú–æ–¥–µ–ª—å Ollama –Ω–µ —É–∫–∞–∑–∞–Ω–∞ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è.

**–†–µ—à–µ–Ω–∏—è:**

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –º–æ–¥–µ–ª—å –≤ `.env`:**
   ```bash
   OLLAMA_MODEL=llama3.2
   # –∏–ª–∏
   OLLAMA_MODEL=llama3.1
   # –∏–ª–∏ –ª—é–±–∞—è –¥—Ä—É–≥–∞—è –º–æ–¥–µ–ª—å, –∫–æ—Ç–æ—Ä–∞—è —É –≤–∞—Å –µ—Å—Ç—å
   ```

2. **–°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π:**
   ```bash
   ollama list
   ```

3. **–ó–∞–≥—Ä—É–∑–∏—Ç–µ –º–æ–¥–µ–ª—å, –µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç:**
   ```bash
   ollama pull llama3.2
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –º–æ–¥–µ–ª–∏:**
   ```bash
   ollama run llama3.2 "–ü—Ä–∏–≤–µ—Ç"
   ```

---

## üåê –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ API

### –ü—Ä–æ–±–ª–µ–º–∞: –¢–∞–π–º–∞—É—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ OANDA API

**–°–∏–º–ø—Ç–æ–º—ã:**
```
httpx.ConnectTimeout: Connection timeout
```

**–†–µ—à–µ–Ω–∏—è:**

<details>
<summary><strong>–î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ —à–∞–≥–∏</strong></summary>

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ API:**
   ```bash
   curl -H "Authorization: Bearer YOUR_API_KEY" https://api-fxpractice.oanda.com/v3/accounts
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ firewall/proxy:**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç 443 (HTTPS) –æ—Ç–∫—Ä—ã—Ç
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ proxy, –µ—Å–ª–∏ –∑–∞ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–º firewall

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ API –∫–ª—é—á–∞:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–∫–∫–∞—É–Ω—Ç–∞ OANDA
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ API –∫–ª—é—á –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ –Ω–∞ —á—Ç–µ–Ω–∏–µ

4. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä:**
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `TWELVE_DATA_API_KEY` –≤ `.env`
   - –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è

</details>

**–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
- –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ç–µ–≤—ã–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º
- –ù–µ–≤–µ—Ä–Ω—ã–π URL –∫–æ–Ω–µ—á–Ω–æ–π —Ç–æ—á–∫–∏ API
- –ò—Å—Ç–µ–∫—à–∏–π –∏–ª–∏ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π API –∫–ª—é—á
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ (—Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤)

---

### –ü—Ä–æ–±–ª–µ–º–∞: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏ GDELT API

**–°–∏–º–ø—Ç–æ–º—ã:**
```
HTTP 429: Too Many Requests
```

**–†–µ—à–µ–Ω–∏—è:**

1. **–î–æ–±–∞–≤—å—Ç–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏:**
   ```python
   # –£–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ –≤ –∫–æ–¥–µ, –Ω–æ –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å:
   RUNTIME_NEWS_REFRESH_INTERVAL_SECONDS=600  # –£–≤–µ–ª–∏—á—å—Ç–µ –¥–æ 10 –º–∏–Ω—É—Ç
   ```

2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ NewsAPI –∫–∞–∫ —Ä–µ–∑–µ—Ä–≤–Ω—ã–π:**
   ```bash
   NEWSAPI_API_KEY=your_newsapi_key
   ```

3. **–£–º–µ–Ω—å—à–∏—Ç–µ —á–∞—Å—Ç–æ—Ç—É –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–æ–≤–æ—Å—Ç–µ–π:**
   - –ó–∞–ø—Ä–∞—à–∏–≤–∞–π—Ç–µ –Ω–æ–≤–æ—Å—Ç–∏ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
   - –ö—ç—à–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–æ–≤–æ—Å—Ç–µ–π

---

## ü§ñ –ü—Ä–æ–±–ª–µ–º—ã —Å LLM/Ollama

### –ü—Ä–æ–±–ª–µ–º–∞: –û—Ç–∫–∞–∑ –≤ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ Ollama

**–°–∏–º–ø—Ç–æ–º—ã:**
```
ConnectionRefusedError: [Errno 111] Connection refused
```

**–†–µ—à–µ–Ω–∏—è:**

<details>
<summary><strong>–õ–æ–∫–∞–ª—å–Ω—ã–π Ollama</strong></summary>

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å Ollama:**
   ```bash
   ollama serve
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Ä–≤–∏—Å –∑–∞–ø—É—â–µ–Ω:**
   ```bash
   curl http://localhost:11434/api/tags
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é `.env`:**
   ```bash
   OLLAMA_BASE_URL=http://localhost:11434
   ```

</details>

<details>
<summary><strong>–£–¥–∞–ª–µ–Ω–Ω—ã–π Ollama</strong></summary>

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç–µ–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:**
   ```bash
   ping your-ollama-server.com
   curl http://your-ollama-server.com:11434/api/tags
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ firewall:**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç 11434 –æ—Ç–∫—Ä—ã—Ç
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≥—Ä—É–ø–ø—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (AWS/GCP)

3. **–û–±–Ω–æ–≤–∏—Ç–µ `.env`:**
   ```bash
   OLLAMA_BASE_URL=http://your-ollama-server.com:11434
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:**
   ```bash
   python -c "import httpx; print(httpx.get('http://your-ollama-server.com:11434/api/tags').json())"
   ```

</details>

---

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–æ–¥–µ–ª—å LLM –Ω–µ –Ω–∞–π–¥–µ–Ω–∞

**–°–∏–º–ø—Ç–æ–º—ã:**
```
Error: model 'llama3.2' not found
```

**–†–µ—à–µ–Ω–∏—è:**

1. **–°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π:**
   ```bash
   ollama list
   ```

2. **–ó–∞–≥—Ä—É–∑–∏—Ç–µ –º–æ–¥–µ–ª—å:**
   ```bash
   ollama pull llama3.2
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–º—è –º–æ–¥–µ–ª–∏ –≤ `.env`:**
   ```bash
   OLLAMA_MODEL=llama3.2  # –î–æ–ª–∂–Ω–æ —Ç–æ—á–Ω–æ —Å–æ–≤–ø–∞–¥–∞—Ç—å
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–æ–¥–µ–ª—å:**
   ```bash
   ollama run llama3.2 "—Ç–µ—Å—Ç"
   ```

---

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–µ–¥–ª–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã LLM

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ê–Ω–∞–ª–∏–∑ –∑–∞–Ω–∏–º–∞–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
- –û—à–∏–±–∫–∏ —Ç–∞–π–º–∞—É—Ç–∞

**–†–µ—à–µ–Ω–∏—è:**

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–Ω—å—à—É—é/–±—ã—Å—Ç—Ä—É—é –º–æ–¥–µ–ª—å:**
   ```bash
   OLLAMA_MODEL=llama3.2:1b  # –ú–µ–Ω—å—à–∞—è –∫–≤–∞–Ω—Ç–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
   ```

2. **–£–≤–µ–ª–∏—á—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–∞–π–º–∞—É—Ç–∞:**
   ```python
   # –í –∫–æ–¥–µ, –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ —Ç–∞–π–º–∞—É—Ç LLM –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
   ```

3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ GPU:**
   ```bash
   # –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ CUDA/ROCm –¥–æ—Å—Ç—É–ø–µ–Ω
   ollama run llama3.2 --gpu
   ```

4. **–£–º–µ–Ω—å—à–∏—Ç–µ –æ–∫–Ω–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞:**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª–µ–µ –∫–æ—Ä–æ—Ç–∫–∏–µ –ø—Ä–æ–º–ø—Ç—ã
   - –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ

---

## üíæ –ü—Ä–æ–±–ª–µ–º—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞

**–°–∏–º–ø—Ç–æ–º—ã:**
```
sqlite3.OperationalError: database is locked
```

**–†–µ—à–µ–Ω–∏—è:**

<details>
<summary><strong>–ë—ã—Å—Ç—Ä—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è</strong></summary>

1. **–ó–∞–∫—Ä–æ–π—Ç–µ –¥—Ä—É–≥–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ Python
   - –ó–∞–∫—Ä–æ–π—Ç–µ –ø—Ä–æ—Å–º–æ—Ç—Ä—â–∏–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (DB Browser –∏ —Ç.–¥.)

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª—ã –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏:**
   ```bash
   ls -la db/*.sqlite3-*  # Linux/macOS
   dir db\*.sqlite3-*     # Windows
   ```

3. **–£–¥–∞–ª–∏—Ç–µ —Ñ–∞–π–ª—ã –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏** (–µ—Å–ª–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ):
   ```bash
   rm db/*.sqlite3-*  # Linux/macOS
   del db\*.sqlite3-*  # Windows
   ```

</details>

**–ü—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∞:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–∫—Ä—ã–≤–∞–π—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- –ò–∑–±–µ–≥–∞–π—Ç–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π

---

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∏ –º–∏–≥—Ä–∞—Ü–∏–∏

**–°–∏–º–ø—Ç–æ–º—ã:**
```
sqlite3.OperationalError: table already exists
```

**–†–µ—à–µ–Ω–∏—è:**

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –º–∏–≥—Ä–∞—Ü–∏–∏:**
   ```bash
   sqlite3 db/forex_research_assistant.sqlite3 ".schema"
   ```

2. **–°–±—Ä–æ—Å—å—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö** (‚ö†Ô∏è **–í–ù–ò–ú–ê–ù–ò–ï**: –£–¥–∞–ª—è–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ):
   ```bash
   rm db/forex_research_assistant.sqlite3  # Linux/macOS
   del db\forex_research_assistant.sqlite3  # Windows
   python src/app/main.py init-db
   ```

3. **–†—É—á–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è:**
   ```bash
   sqlite3 db/forex_research_assistant.sqlite3 < src/storage/sqlite/migrations/0001_init.sql
   ```

---

## üìä –ü—Ä–æ–±–ª–µ–º—ã –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

### –û—à–∏–±–∫–∞: "Insufficient candles: got X, need at least 200"

**–°–∏–º–ø—Ç–æ–º—ã:**
```
ValueError: Insufficient candles: got 150, need at least 200
```

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –æ—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞.

**–†–µ—à–µ–Ω–∏—è:**

<details>
<summary><strong>–î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π —á–µ–∫–ª–∏—Å—Ç</strong></summary>

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç —Å–∏–º–≤–æ–ª–∞:**
   ```bash
   # –ü—Ä–∞–≤–∏–ª—å–Ω–æ: EURUSD, GBPUSD, USDJPY
   # –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ: EUR/USD, EUR-USD
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö:**
   - OANDA: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–∏–º–≤–æ–ª —Ç–æ—Ä–≥—É–µ—Ç—Å—è
   - Twelve Data: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–º–≤–æ–ª –≤ –∏—Ö –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

3. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π —Ç–∞–π–º—Ñ—Ä–µ–π–º:**
   ```bash
   # –ï—Å–ª–∏ 1h –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ:
   python src/app/main.py analyze --symbol EURUSD --timeframe 1d
   ```

4. **–£–≤–µ–ª–∏—á—å—Ç–µ —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞** (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏):
   ```bash
   RUNTIME_MARKET_DATA_WINDOW_CANDLES=150  # –£–º–µ–Ω—å—à–∏—Ç–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ
   ```

5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞:**
   - –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—Ç–∞—Ç—É—Å–∞ OANDA
   - –°—Ç–∞—Ç—É—Å Twelve Data

</details>

---

### –ü—Ä–æ–±–ª–µ–º–∞: –î–∞–Ω–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–µ–π –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã

**–°–∏–º–ø—Ç–æ–º—ã:**
```
No news found for symbol EURUSD
```

**–†–µ—à–µ–Ω–∏—è:**

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å GDELT:**
   ```bash
   curl "https://api.gdeltproject.org/api/v2/doc/doc?query=forex%20EURUSD&mode=artlist&format=json"
   ```

2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–π NewsAPI:**
   ```bash
   NEWSAPI_API_KEY=your_key
   ```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ –Ω–æ–≤–æ—Å—Ç–µ–π:**
   - –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –±–æ–ª–µ–µ —à–∏—Ä–æ–∫–∏–µ –ø–æ–∏—Å–∫–æ–≤—ã–µ —Ç–µ—Ä–º–∏–Ω—ã
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã –¥–∞—Ç

---

## ‚ö° –ü—Ä–æ–±–ª–µ–º—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ü—Ä–æ–±–ª–µ–º–∞: –ê–Ω–∞–ª–∏–∑ –∑–∞–Ω–∏–º–∞–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ê–Ω–∞–ª–∏–∑ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è > 5 –º–∏–Ω—É—Ç
- –°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ—Å—Ç–∞–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å

**–†–µ—à–µ–Ω–∏—è:**

1. **–£–º–µ–Ω—å—à–∏—Ç–µ –æ–∫–Ω–æ –¥–∞–Ω–Ω—ã—Ö:**
   ```bash
   RUNTIME_MARKET_DATA_WINDOW_CANDLES=200  # –í–º–µ—Å—Ç–æ 300
   ```

2. **–û—Ç–∫–ª—é—á–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω—ã–π –≤—ã–≤–æ–¥:**
   ```bash
   # –£–¥–∞–ª–∏—Ç–µ —Ñ–ª–∞–≥ --verbose
   python src/app/main.py analyze --symbol EURUSD --timeframe 1h
   ```

3. **–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –≤—ã–∑–æ–≤—ã LLM:**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–Ω—å—à—É—é –º–æ–¥–µ–ª—å
   - –£–º–µ–Ω—å—à–∏—Ç–µ —Ä–∞–∑–º–µ—Ä –ø—Ä–æ–º–ø—Ç–∞
   - –ö—ç—à–∏—Ä—É–π—Ç–µ –æ—Ç–≤–µ—Ç—ã

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ—Å—É—Ä—Å—ã —Å–∏—Å—Ç–µ–º—ã:**
   ```bash
   # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ CPU/–ü–∞–º—è—Ç—å
   top  # Linux/macOS
   taskmgr  # Windows
   ```

---

### –ü—Ä–æ–±–ª–µ–º–∞: –í—ã—Å–æ–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏

**–°–∏–º–ø—Ç–æ–º—ã:**
- –°–∏—Å—Ç–µ–º–∞ –∏—Å—á–µ—Ä–ø—ã–≤–∞–µ—Ç –ø–∞–º—è—Ç—å
- –û—à–∏–±–∫–∏ OOM (Out of Memory)

**–†–µ—à–µ–Ω–∏—è:**

1. **–£–º–µ–Ω—å—à–∏—Ç–µ pandas dataframes:**
   - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –¥–∞–Ω–Ω—ã–µ —á–∞—Å—Ç—è–º–∏
   - –û—á–∏—â–∞–π—Ç–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

2. **–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:**
   - –ó–∞–ø—É—Å–∫–∞–π—Ç–µ –æ–¥–∏–Ω –∞–Ω–∞–ª–∏–∑ –∑–∞ —Ä–∞–∑
   - –ü—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–∫—Ä—ã–≤–∞–π—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ—Ç–æ–∫–æ–≤—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–∞–Ω–Ω—ã—Ö:**
   - –ù–µ –∑–∞–≥—Ä—É–∂–∞–π—Ç–µ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Å—Ä–∞–∑—É
   - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ

---

## üí° –û–±—â–∏–µ —Å–æ–≤–µ—Ç—ã

### –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

<details>
<summary><strong>–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è</strong></summary>

- ‚úÖ –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∞–π–ª `.env` –¥–ª—è —Å–µ–∫—Ä–µ—Ç–æ–≤
- ‚úÖ –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ API –∫–ª—é—á–∏ –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏ API
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –∞–∫—Ç—É–∞–ª—å–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏

</details>

<details>
<summary><strong>–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞</strong></summary>

- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ –ó–∞–ø—É—Å–∫–∞–π—Ç–µ —Ç–µ—Å—Ç—ã –ø–µ—Ä–µ–¥ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ–º
- ‚úÖ –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ —Ä–µ—Å—É—Ä—Å—ã —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ –î–µ–ª–∞–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

</details>

<details>
<summary><strong>–ü—Ä–æ–¥–∞–∫—à–µ–Ω</strong></summary>

- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (systemd, supervisor)
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- ‚úÖ –†–µ–∞–ª–∏–∑—É–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- ‚úÖ –ü–ª–∞–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏

</details>

---

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
python -c "from src.app.settings import settings; print(settings.model_dump_json(indent=2))"

# –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
python -c "from src.storage.sqlite.connection import DBConnection; db = DBConnection('db/forex_research_assistant.sqlite3'); print('OK')"

# –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ API
python -c "import httpx; print(httpx.get('https://api-fxpractice.oanda.com/v3/accounts', headers={'Authorization': 'Bearer YOUR_KEY'}).status_code)"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Ollama
curl http://localhost:11434/api/tags
```

---

## üîß –ü—Ä–æ–±–ª–µ–º—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞: Timeout –Ω–∞ 60 —Å–µ–∫—É–Ω–¥–∞—Ö –¥–ª—è Ollama

**–°–∏–º–ø—Ç–æ–º—ã:**
```
Provider response failed: task=news_analysis, provider=ollama_local, model=qwen2.5:7b, timeout_seconds=60.0, attempt=1, elapsed_ms=62000, error=timed out
Provider timeout: timeout_seconds=60.0
```

**–ü—Ä–∏—á–∏–Ω–∞:** –¢–∞–π–º–∞—É—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π Ollama, –æ—Å–æ–±–µ–Ω–Ω–æ –¥–ª—è –∑–∞–¥–∞—á `news_analysis`, `synthesis` –∏ `verification`.

**–†–µ—à–µ–Ω–∏—è:**

<details>
<summary><strong>–ü–æ—à–∞–≥–æ–≤–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</strong></summary>

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–∞–π–º–∞—É—Ç–æ–≤:**
   ```bash
   python -c "from src.app.settings import settings; print(f'OLLAMA_LOCAL_TIMEOUT_SECONDS: {settings.ollama_local_timeout_seconds}')"
   ```

2. **–£–≤–µ–ª–∏—á—å—Ç–µ —Ç–∞–π–º–∞—É—Ç –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∑–∞–¥–∞—á–∏ –≤ `.env`:**
   ```bash
   # –î–ª—è news_analysis (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 240 —Å–µ–∫—É–Ω–¥)
   OLLAMA_LOCAL_NEWS_TIMEOUT_SECONDS=240.0
   
   # –î–ª—è synthesis (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 240 —Å–µ–∫—É–Ω–¥)
   OLLAMA_LOCAL_SYNTHESIS_TIMEOUT_SECONDS=240.0
   
   # –î–ª—è verification (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 240 —Å–µ–∫—É–Ω–¥)
   OLLAMA_LOCAL_VERIFIER_TIMEOUT_SECONDS=240.0
   
   # –î–ª—è tech_analysis (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 120 —Å–µ–∫—É–Ω–¥)
   OLLAMA_LOCAL_TECH_TIMEOUT_SECONDS=120.0
   ```

3. **–ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –æ–±—â–∏–π —Ç–∞–π–º–∞—É—Ç –¥–ª—è ollama_local:**
   ```bash
   OLLAMA_LOCAL_TIMEOUT_SECONDS=240.0
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ç–∞–π–º–∞—É—Ç–æ–≤:**
   - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: `OLLAMA_LOCAL_{TASK}_TIMEOUT_SECONDS` (—Å–∞–º—ã–π –≤—ã—Å–æ–∫–∏–π)
   - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: `OLLAMA_LOCAL_TIMEOUT_SECONDS`
   - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: `{TASK}_TIMEOUT_SECONDS` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `NEWS_TIMEOUT_SECONDS`)
   - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 4: `LLM_TIMEOUT_SECONDS` (–≥–ª–æ–±–∞–ª—å–Ω—ã–π, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 60.0)

5. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è `.env`

</details>

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ `timeout_seconds=60.0` –¥–ª—è –∑–∞–¥–∞—á, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Ollama
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –º–æ–¥–µ–ª—å –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–∞ –¥—Ä—É–≥–∏–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ VRAM: `nvidia-smi` (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è GPU)

---

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–æ–¥–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ (model not found)

**–°–∏–º–ø—Ç–æ–º—ã:**
```
Provider response failed: task=news_analysis, provider=ollama_local, model=qwen2.5:7b, error=model not found
ollama: model 'qwen2.5:7b' not found, try pulling it first
Error: model 'qwen2.5:7b' not found
```

**–ü—Ä–∏—á–∏–Ω–∞:** –ú–æ–¥–µ–ª—å –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –≤ Ollama –∏–ª–∏ —É–∫–∞–∑–∞–Ω–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º—è –º–æ–¥–µ–ª–∏.

**–†–µ—à–µ–Ω–∏—è:**

<details>
<summary><strong>–ü–æ—à–∞–≥–æ–≤–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</strong></summary>

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π:**
   ```bash
   ollama list
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–º—è –º–æ–¥–µ–ª–∏ –≤ `.env`:**
   ```bash
   # –î–ª—è local –≤–µ—Ç–∫–∏
   NEWS_LOCAL_PRIMARY_MODEL=qwen2.5:7b
   
   # –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏–º—è —Ç–æ—á–Ω–æ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Ç–µ–º, —á—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `ollama list`
   ```

3. **–ó–∞–≥—Ä—É–∑–∏—Ç–µ –º–æ–¥–µ–ª—å –≤—Ä—É—á–Ω—É—é:**
   ```bash
   ollama pull qwen2.5:7b
   ```

4. **–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –∑–∞–≥—Ä—É–∑–∫—É:**
   ```bash
   python -m scripts.python.download_models --from-routing
   ```

5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –º–æ–¥–µ–ª–∏:**
   ```bash
   ollama run qwen2.5:7b "—Ç–µ—Å—Ç"
   ```

6. **–ï—Å–ª–∏ –º–æ–¥–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –Ω–∞ Hugging Face:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –º–æ–¥–µ–ª—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: https://huggingface.co/models
   - –î–ª—è gated –º–æ–¥–µ–ª–µ–π —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `HF_TOKEN` –≤ `.env`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

</details>

**–ü—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∞:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `python -m scripts.python.download_models --from-routing` –ø–µ—Ä–µ–¥ –ø–µ—Ä–≤—ã–º –∑–∞–ø—É—Å–∫–æ–º
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏ preflight –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–µ–π
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `HUGGINGFACE_HUB_CACHE` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –¥–æ—Å—Ç—É–ø–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é

---

### –ü—Ä–æ–±–ª–µ–º–∞: –ü—Ä–æ–≤–∞–π–¥–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (provider unavailable)

**–°–∏–º–ø—Ç–æ–º—ã:**
```
Provider unavailable, skipping: provider=deepseek_api
Provider health check failed: provider=deepseek_api, error=API key not set
```

**–ü—Ä–∏—á–∏–Ω–∞:** API –∫–ª—é—á –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –Ω–µ–≤–∞–ª–∏–¥–µ–Ω, –∏–ª–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω.

**–†–µ—à–µ–Ω–∏—è:**

<details>
<summary><strong>–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</strong></summary>

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ API –∫–ª—é—á–∞ –≤ `.env`:**
   ```bash
   # –î–ª—è DeepSeek
   DEEPSEEK_API_KEY=your_api_key_here
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å –∫–ª—é—á–∞:**
   ```bash
   python -c "from src.app.settings import settings; print('DeepSeek key set:', bool(settings.deepseek_api_key))"
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ health check –≤ –ª–æ–≥–∞—Ö:**
   - –ò—â–∏—Ç–µ —Å—Ç—Ä–æ–∫–∏ `Provider health check` –≤ –ª–æ–≥–∞—Ö –∑–∞–ø—É—Å–∫–∞
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ `available=True`

4. **–î–ª—è DeepSeek API:**
   - –ü–æ–ª—É—á–∏—Ç–µ –∫–ª—é—á –Ω–∞ https://platform.deepseek.com/
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –∫–ª—é—á–∞ –µ—Å—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å –∞–∫–∫–∞—É–Ω—Ç–∞

5. **–î–ª—è Ollama Server:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `OLLAMA_SERVER_URL` –¥–æ—Å—Ç—É–ø–µ–Ω
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ URL –Ω–µ —è–≤–ª—è–µ—Ç—Å—è `localhost` –∏–ª–∏ `127.0.0.1` (–¥–ª—è server –≤–µ—Ç–∫–∏)
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω: `curl http://your-server:11434/api/tags`

</details>

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ preflight –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ health check
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–æ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ç–µ–≤—É—é –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –¥–ª—è —É–¥–∞–ª–µ–Ω–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

---

### –ü—Ä–æ–±–ª–µ–º–∞: OLLAMA_SERVER_URL –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–°–∏–º–ø—Ç–æ–º—ã:**
```
ConnectionRefusedError: [Errno 111] Connection refused
httpx.ConnectTimeout: Connection timeout
Provider response failed: provider=ollama_server, error=Connection refused
```

**–ü—Ä–∏—á–∏–Ω–∞:** –°–µ—Ä–≤–µ—Ä Ollama –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, URL –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π, –∏–ª–∏ —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω.

**–†–µ—à–µ–Ω–∏—è:**

<details>
<summary><strong>–ü–æ—à–∞–≥–æ–≤–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</strong></summary>

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ `OLLAMA_SERVER_URL` –≤ `.env`:**
   ```bash
   OLLAMA_SERVER_URL=http://your-server-ip:11434
   # –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ localhost –∏–ª–∏ 127.0.0.1 –¥–ª—è server –≤–µ—Ç–∫–∏
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–∞:**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ ping
   ping your-server-ip
   
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ HTTP endpoint
   curl http://your-server-ip:11434/api/tags
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall –∏ —Å–µ—Ç–µ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞:**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç 11434 –æ—Ç–∫—Ä—ã—Ç
   - –î–ª—è AWS/GCP: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ security groups
   - –î–ª—è –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö —Å–µ—Ç–µ–π: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ proxy –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω:**
   ```bash
   # –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
   ollama serve
   # –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ systemd service
   systemctl status ollama
   ```

5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ Ollama:**
   - –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä —Å–ª—É—à–∞–µ—Ç –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

</details>

**–ü—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∞:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ health check –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –∞–Ω–∞–ª–∏–∑–∞
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã (fallback)

---

### –ü—Ä–æ–±–ª–µ–º–∞: –í—Å–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –ø–∞–¥–∞—é—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è last resort

**–°–∏–º–ø—Ç–æ–º—ã:**
```
All configured providers failed, trying last resort
Provider response failed: task=news_analysis, provider=ollama_local, error=...
Provider response failed: task=news_analysis, provider=deepseek_api, error=...
Switching to last resort: provider=ollama_local, model=llama3:latest
```

**–ü—Ä–∏—á–∏–Ω–∞:** –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã –∏–ª–∏ –ø–∞–¥–∞—é—Ç —Å –æ—à–∏–±–∫–∞–º–∏.

**–†–µ—à–µ–Ω–∏—è:**

<details>
<summary><strong>–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</strong></summary>

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é last resort –≤ `.env`:**
   ```bash
   LLM_LAST_RESORT_PROVIDER=ollama_local
   LLM_LAST_RESORT_MODEL=llama3:latest
   OLLAMA_LOCAL_URL=http://localhost:11434
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Ollama –∑–∞–ø—É—â–µ–Ω –ª–æ–∫–∞–ª—å–Ω–æ:**
   ```bash
   curl http://localhost:11434/api/tags
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –º–æ–¥–µ–ª—å `llama3:latest` –∑–∞–≥—Ä—É–∂–µ–Ω–∞:**
   ```bash
   ollama list | grep llama3
   # –ï—Å–ª–∏ –Ω–µ—Ç, –∑–∞–≥—Ä—É–∑–∏—Ç–µ:
   ollama pull llama3:latest
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –ø—Ä–∏—á–∏–Ω—ã –ø–∞–¥–µ–Ω–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤:**
   - –ò—â–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–π–º–∞—É—Ç—ã (—Å–º. –ø—Ä–æ–±–ª–µ–º—É "Timeout –Ω–∞ 60 —Å–µ–∫—É–Ω–¥–∞—Ö")
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å API –∫–ª—é—á–µ–π

5. **–í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ `ollama_local` –¥–ª—è –≤—Å–µ—Ö –∑–∞–¥–∞—á
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –º–æ–¥–µ–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã
   - –£–≤–µ–ª–∏—á—å—Ç–µ —Ç–∞–π–º–∞—É—Ç—ã –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π

</details>

**–ü—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∞:**
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ fallback –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏
- –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ health check –≤—Å–µ—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ —Ä–∞–Ω–Ω–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –ø—Ä–æ–±–ª–µ–º

---

### –ü—Ä–æ–±–ª–µ–º–∞: RUNTIME_ENV –Ω–µ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –≤–µ—Ç–∫—É

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –∏–∑ –≤–µ—Ç–∫–∏ `local`, —Ö–æ—Ç—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ `RUNTIME_ENV=server`
- –ò–ª–∏ –Ω–∞–æ–±–æ—Ä–æ—Ç: –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –∏–∑ `server`, —Ö–æ—Ç—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ `RUNTIME_ENV=local`

**–ü—Ä–∏—á–∏–Ω–∞:** –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –∏–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

**–†–µ—à–µ–Ω–∏—è:**

<details>
<summary><strong>–ü–æ—à–∞–≥–æ–≤–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</strong></summary>

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ `RUNTIME_ENV` –≤ `.env`:**
   ```bash
   RUNTIME_ENV=local  # –∏–ª–∏ server
   ```

2. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –î–û –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
   ```bash
   # –ü—Ä–∞–≤–∏–ª—å–Ω–æ: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤ .env –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
   # –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ: —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ runtime:**
   ```bash
   python -c "from src.app.settings import settings; print(f'RUNTIME_ENV: {settings.runtime_env}')"
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –≤—ã–±–æ—Ä –≤–µ—Ç–∫–∏:**
   - –ò—â–∏—Ç–µ —Å—Ç—Ä–æ–∫–∏ `Using routing branch: local` –∏–ª–∏ `Using routing branch: server`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –≤–µ—Ç–∫–∞

5. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è `RUNTIME_ENV`

</details>

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ preflight –Ω–∞ –≤—ã–±–æ—Ä –≤–µ—Ç–∫–∏
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `.env` —Ñ–∞–π–ª –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –Ω–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ —Å–∏—Å—Ç–µ–º–µ

---

### –ü—Ä–æ–±–ª–µ–º–∞: HF –º–æ–¥–µ–ª–∏ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:**
```
Error downloading model from Hugging Face: model_id=..., error=...
HTTP 401: Unauthorized
HTTP 403: Forbidden
Connection timeout
```

**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–æ–±–ª–µ–º—ã —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ Hugging Face, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–æ–∫–µ–Ω–∞ –¥–ª—è gated –º–æ–¥–µ–ª–µ–π, –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ç—å—é.

**–†–µ—à–µ–Ω–∏—è:**

<details>
<summary><strong>–ü–æ—à–∞–≥–æ–≤–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</strong></summary>

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ `HF_TOKEN` –¥–ª—è gated –º–æ–¥–µ–ª–µ–π:**
   ```bash
   HF_TOKEN=hf_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
   ```
   - –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –Ω–∞ https://huggingface.co/settings/tokens
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–∫–µ–Ω –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ `read`

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –∫ –∫–µ—à—É:**
   ```bash
   HUGGINGFACE_HUB_CACHE=models/.cache
   # –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—É—Ç—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –∑–∞–ø–∏—Å–∏
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞:**
   ```bash
   curl https://huggingface.co
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –º–µ—Å—Ç–∞:**
   - –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –º–æ–¥–µ–ª–∏ –∑–∞–Ω–∏–º–∞—é—Ç 10+ GB
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–µ—Å—Ç–∞

5. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥–µ–ª—å –≤—Ä—É—á–Ω—É—é:**
   ```bash
   python -c "from huggingface_hub import snapshot_download; snapshot_download(repo_id='your-model-id', cache_dir='models/.cache')"
   ```

6. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ preflight:**
   - –ò—â–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –æ—à–∏–±–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –º–æ–¥–µ–ª–µ–π
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –º–æ–¥–µ–ª—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–∞ Hugging Face

</details>

**–ü—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∞:**
- –ó–∞–≥—Ä—É–∂–∞–π—Ç–µ –º–æ–¥–µ–ª–∏ –∑–∞—Ä–∞–Ω–µ–µ —á–µ—Ä–µ–∑ `download_models`
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π –∫–µ—à –¥–ª—è –æ—Ñ–ª–∞–π–Ω —Ä–∞–±–æ—Ç—ã
- –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –º–æ–¥–µ–ª–µ–π –Ω–∞ Hugging Face

---

### –ü—Ä–æ–±–ª–µ–º–∞: Progress bars –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –º–æ–¥–µ–ª–µ–π –Ω–µ—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç "–≤ —Ç–∏—à–∏–Ω–µ"

**–ü—Ä–∏—á–∏–Ω–∞:** –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –æ—Ç–∫–ª—é—á–∞—é—Ç progress bars.

**–†–µ—à–µ–Ω–∏—è:**

<details>
<summary><strong>–ü–æ—à–∞–≥–æ–≤–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</strong></summary>

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `.env`:**
   ```bash
   # –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —ç—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ù–ï —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∏–ª–∏ –ø—É—Å—Ç—ã–µ:
   # HF_HUB_DISABLE_PROGRESS_BARS=
   # TQDM_DISABLE=
   ```

2. **–ò–ª–∏ —è–≤–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç–µ –∏—Ö:**
   ```bash
   HF_HUB_DISABLE_PROGRESS_BARS=
   TQDM_DISABLE=
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ —Å–∏—Å—Ç–µ–º–µ:**
   ```bash
   # Windows PowerShell
   $env:HF_HUB_DISABLE_PROGRESS_BARS
   $env:TQDM_DISABLE
   
   # –ï—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã, —É–¥–∞–ª–∏—Ç–µ –∏–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤ –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É
   ```

4. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

</details>

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –æ –∑–∞–≥—Ä—É–∑–∫–µ –º–æ–¥–µ–ª–µ–π
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–µ—Ä–º–∏–Ω–∞–ª –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç ANSI escape codes
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—ã–≤–æ–¥ –Ω–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω –≤ —Ñ–∞–π–ª

---

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–µ—à –∑–∞–Ω–∏–º–∞–µ—Ç –º–Ω–æ–≥–æ –º–µ—Å—Ç–∞

**–°–∏–º–ø—Ç–æ–º—ã:**
- –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `models/.cache` –∏–ª–∏ `HUGGINGFACE_HUB_CACHE` –∑–∞–Ω–∏–º–∞–µ—Ç –º–Ω–æ–≥–æ –º–µ—Å—Ç–∞ (10+ GB)
- –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ

**–ü—Ä–∏—á–∏–Ω–∞:** –í –∫–µ—à–µ –Ω–∞–∫–æ–ø–∏–ª–∏—Å—å –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –∏ –∏—Ö –≤–µ—Ä—Å–∏–∏.

**–†–µ—à–µ–Ω–∏—è:**

<details>
<summary><strong>–û—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞</strong></summary>

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä –∫–µ—à–∞:**
   ```bash
   # Windows PowerShell
   Get-ChildItem -Path models\.cache -Recurse | Measure-Object -Property Length -Sum
   
   # Linux/macOS
   du -sh models/.cache
   ```

2. **–£–¥–∞–ª–∏—Ç–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –º–æ–¥–µ–ª–∏:**
   ```bash
   # –£–¥–∞–ª–∏—Ç–µ –≤—Å—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∫–µ—à–∞ (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ: —É–¥–∞–ª–∏—Ç –≤—Å–µ –º–æ–¥–µ–ª–∏)
   Remove-Item -Recurse -Force models\.cache  # Windows
   rm -rf models/.cache  # Linux/macOS
   ```

3. **–ò–ª–∏ —É–¥–∞–ª–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –º–æ–¥–µ–ª–∏:**
   - –ù–∞–π–¥–∏—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –º–æ–¥–µ–ª–µ–π –≤ `models/.cache/huggingface/hub/`
   - –£–¥–∞–ª–∏—Ç–µ —Ç–æ–ª—å–∫–æ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –º–æ–¥–µ–ª–∏

4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –¥—Ä—É–≥–æ–π –ø—É—Ç—å –¥–ª—è –∫–µ—à–∞:**
   ```bash
   HUGGINGFACE_HUB_CACHE=/path/to/larger/disk/.cache
   ```

5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–º–ª–∏–Ω–∫–∏ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –º–µ—Å—Ç–∞:**
   - –°–æ–∑–¥–∞–π—Ç–µ –∫–µ—à –Ω–∞ –¥—Ä—É–≥–æ–º –¥–∏—Å–∫–µ
   - –°–æ–∑–¥–∞–π—Ç–µ —Å–∏–º–ª–∏–Ω–∫ –≤ `models/.cache`

</details>

**–ü—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∞:**
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ—á–∏—â–∞–π—Ç–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –º–æ–¥–µ–ª–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π –¥–∏—Å–∫ –¥–ª—è –∫–µ—à–∞ –º–æ–¥–µ–ª–µ–π
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä –∫–µ—à–∞

---

### –ü—Ä–æ–±–ª–µ–º–∞: API –∫–ª—é—á–∏ –≤–∏–¥–Ω—ã –≤ –ª–æ–≥–∞—Ö

**–°–∏–º–ø—Ç–æ–º—ã:**
- –í –ª–æ–≥–∞—Ö –≤–∏–¥–Ω—ã –ø–æ–ª–Ω—ã–µ API –∫–ª—é—á–∏
- –°–µ–∫—Ä–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –ª–æ–≥–∏

**–ü—Ä–∏—á–∏–Ω–∞:** –ú–∞—Å–∫–∏—Ä–æ–≤–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∞ –∏–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.

**–†–µ—à–µ–Ω–∏—è:**

<details>
<summary><strong>–ü–æ—à–∞–≥–æ–≤–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</strong></summary>

1. **–í–∫–ª—é—á–∏—Ç–µ –º–∞—Å–∫–∏—Ä–æ–≤–∫—É –≤ `.env`:**
   ```bash
   LOG_MASK_AUTH=true
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –º–∞—Å–∫–∏—Ä–æ–≤–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
   ```bash
   python -c "from src.app.settings import settings; print(f'LOG_MASK_AUTH: {settings.log_mask_auth}')"
   ```

3. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
   - API –∫–ª—é—á–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω—ã –∫–∞–∫ `***` –∏–ª–∏ `[MASKED]`
   - –ï—Å–ª–∏ –≤—Å–µ –µ—â–µ –≤–∏–¥–Ω—ã, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–¥ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

5. **–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `LOG_MASK_AUTH` –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ `.env`
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é –∫–æ–¥–∞ (–º–∞—Å–∫–∏—Ä–æ–≤–∫–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤)

</details>

**–ü—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∞:**
- –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `LOG_MASK_AUTH=true` –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
- –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ –ª–æ–≥–∏ —Å —Å–µ–∫—Ä–µ—Ç–∞–º–∏ –≤ git
- –†–µ–≥—É–ª—è—Ä–Ω–æ —Ä–æ—Ç–∏—Ä—É–π—Ç–µ API –∫–ª—é—á–∏

---

### –ü—Ä–æ–±–ª–µ–º–∞: Switching to fallback —Å–ª–∏—à–∫–æ–º —á–∞—Å—Ç–æ

**–°–∏–º–ø—Ç–æ–º—ã:**
```
Switching to fallback: reason=timeout, next_provider=ollama_local, next_model=llama3:latest
Switching to fallback: reason=error: Connection refused, next_provider=deepseek_api, next_model=deepseek-chat
Provider response failed: task=news_analysis, provider=ollama_local, error=...
```

**–ü—Ä–∏—á–∏–Ω–∞:** Primary –ø—Ä–æ–≤–∞–π–¥–µ—Ä —Ä–µ–≥—É–ª—è—Ä–Ω–æ –ø–∞–¥–∞–µ—Ç –∏–ª–∏ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –≤ —Å—Ä–æ–∫, —Å–∏—Å—Ç–µ–º–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ fallback.

**–†–µ—à–µ–Ω–∏—è:**

<details>
<summary><strong>–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</strong></summary>

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∏—á–∏–Ω—É –≤ –ª–æ–≥–∞—Ö:**
   - –ò—â–∏—Ç–µ —Å—Ç—Ä–æ–∫–∏ `Switching to fallback: reason=...`
   - –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω—É—é –ø—Ä–∏—á–∏–Ω—É: `timeout`, `error: Connection refused`, `error: model not found` –∏ —Ç.–¥.

2. **–ï—Å–ª–∏ –ø—Ä–∏—á–∏–Ω–∞ - timeout:**
   - –£–≤–µ–ª–∏—á—å—Ç–µ —Ç–∞–π–º–∞—É—Ç—ã –¥–ª—è primary –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞:
     ```bash
     OLLAMA_LOCAL_NEWS_TIMEOUT_SECONDS=300.0
     OLLAMA_LOCAL_SYNTHESIS_TIMEOUT_SECONDS=300.0
     ```
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –º–æ–¥–µ–ª—å –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–∞ –¥—Ä—É–≥–∏–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ VRAM: `nvidia-smi` (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è GPU)

3. **–ï—Å–ª–∏ –ø—Ä–∏—á–∏–Ω–∞ - Connection refused:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Ollama –∑–∞–ø—É—â–µ–Ω: `ollama list`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `OLLAMA_LOCAL_URL` –∏–ª–∏ `OLLAMA_SERVER_URL` –≤ `.env`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–∞: `curl http://your-server:11434/api/tags`

4. **–ï—Å–ª–∏ –ø—Ä–∏—á–∏–Ω–∞ - model not found:**
   - –ó–∞–≥—Ä—É–∑–∏—Ç–µ –º–æ–¥–µ–ª—å: `ollama pull qwen2.5:7b`
   - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç: `python -m scripts.python.download_models --from-routing --profile small`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–º—è –º–æ–¥–µ–ª–∏ –≤ `.env`: –¥–æ–ª–∂–Ω–æ —Ç–æ—á–Ω–æ —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å `ollama list`

5. **–ï—Å–ª–∏ –ø—Ä–∏—á–∏–Ω–∞ - provider unavailable:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ health check –≤ –ª–æ–≥–∞—Ö: `Health check: provider=..., available=false`
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á–∏: `DEEPSEEK_API_KEY`, `OLLAMA_SERVER_URL` –∏ —Ç.–¥.
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å –∞–∫–∫–∞—É–Ω—Ç–∞ –¥–ª—è –ø–ª–∞—Ç–Ω—ã—Ö API

6. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**
   - –ï—Å–ª–∏ primary –ø—Ä–æ–≤–∞–π–¥–µ—Ä –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –ø–∞–¥–∞–µ—Ç, —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ —Å–º–µ–Ω—É primary –Ω–∞ –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω—ã–π
   - –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ `ollama_local` –ø–æ—Å—Ç–æ—è–Ω–Ω–æ timeout, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `deepseek_api` –∫–∞–∫ primary
   - –ò–ª–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ –∑–∞–¥–∞—á—É –Ω–∞ server –≤–µ—Ç–∫—É: `RUNTIME_ENV=server`

7. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
   - –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏ –Ω–∞ —á–∞—Å—Ç–æ—Ç—É –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–π
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–ª–µ—Ä—Ç—ã –Ω–∞ —á–∞—Å—Ç—ã–µ fallback –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
   - –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã: –∫–∞–∫–∏–µ –∑–∞–¥–∞—á–∏ —á–∞—â–µ –≤—Å–µ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—é—Ç—Å—è

</details>

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
- –ü–æ–¥—Å—á–∏—Ç–∞–π—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ `Switching to fallback` –≤ –ª–æ–≥–∞—Ö –∑–∞ —Å–µ—Å—Å–∏—é
- –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ, –∫–∞–∫–∏–µ –∑–∞–¥–∞—á–∏ —á–∞—â–µ –≤—Å–µ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—é—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ primary –ø—Ä–æ–≤–∞–π–¥–µ—Ä –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –º–µ–¥–ª–µ–Ω–Ω—ã–π

**–ü—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∞:**
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ç–∞–π–º–∞—É—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –∏ –∑–∞–¥–∞—á–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ health check –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –∞–Ω–∞–ª–∏–∑–∞
- –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –≤—Å–µ—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å primary –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

---

## üÜò –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–º–æ—â–∏

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –≤—Å–µ –µ—â–µ –≤–æ–∑–Ω–∏–∫–∞—é—Ç:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
   - –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ `artifacts/`
   - –°–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏ (journalctl, –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–±—ã—Ç–∏–π)

2. **–ò–∑—É—á–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é:**
   - [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é](./usage_guide.md)
   - [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](./architecture.md)
   - [–ü–æ–ª–∏—Ç–∏–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏](./safety_policy.md)
   - [Roadmap](./roadmap.md)

3. **–°–æ–∑–¥–∞–π—Ç–µ –æ—Ç—á–µ—Ç –æ–± –æ—à–∏–±–∫–µ:**
   - –í–∫–ª—é—á–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
   - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–∏—Å—Ç–µ–º–µ
   - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (–±–µ–∑ —Å–µ–∫—Ä–µ—Ç–æ–≤)
   - –®–∞–≥–∏ –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è

---

[üìñ –û–±–∑–æ—Ä](./overview.md) | [üìö –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é](./usage_guide.md) | [üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](./architecture.md) | [üó∫Ô∏è Roadmap](./roadmap.md)
